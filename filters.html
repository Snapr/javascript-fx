
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>FX Demo</title>

  <script type='text/javascript' src='http://code.jquery.com/jquery-1.8.3.js'></script>
  <script type='text/javascript' src='filters.js'></script>

  <script>


  var pack = 'problem-children';


  $(function(){
    var img = $('.main-image'),
        orig = img.clone().hide().appendTo(document.body);
        img.snapr_fx(orig, false, false, {crop_aspect:1, size:400});
    window.img = img;
    window.orig = orig;

    $.ajax({
        url: 'filter-packs/'+pack+'/filter-pack.json',
        success: function(pack){
            $('.fx').append(
                $('<a> <img src="filter-packs/'+pack.filter_pack.slug+'/original-thumb@2x.png">Original </a>')
                .click(function(){
                    img.snapr_fx(orig, pack.filter_pack.slug, false, {crop_aspect:1, size:400});
                })
            );
            $.each(pack.filter_pack.filters, function(i, filter){
                $('.fx').append(
                    $('<a> <img src="filter-packs/'+pack.filter_pack.slug+'/filters/'+filter.slug+'/thumb@2x.png">'+filter.name+' </a>')
                    .click(function(){
                        img.snapr_fx(orig, pack.filter_pack.slug, filter.slug, {crop_aspect:1, size:400});
                    })
                );
            });
        }
    });
  });
  </script>

  <style>
  .main-image{
      width: 400px;
  }
  .fx a{
      text-align: center;
      font-family: 'Helvetica', Arial, sans-serif;
      color: black;
      display: inline-block;
  }
  .fx a img{
       display: block;
   }
  </style>


</head>
<body>
    <div class="image">
        <img class="main-image" src="image.jpg">
    </div>
    <div class="fx"></div>
    </body>
</html>

