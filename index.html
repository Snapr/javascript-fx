
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>FX Demo</title>

  <script type='text/javascript' src='http://code.jquery.com/jquery-1.8.3.js'></script>
  <script type='text/javascript' src='jpegmeta.js'></script>
  <script type='text/javascript' src='filters.js'></script>

  <script>


  var pack = 'booktrack-demo';


  $(function(){
    var img = $('.main-image'),
        orig = img.clone().hide().appendTo(document.body);
        image = new SnaprFX({
                url: orig.attr('src'),
                element: img,
                size: 750,
                aspect: 560/750,
                fx: pack,
                fx_assets: 'filter-packs/'+pack+'/filters/'
            });
    window.img = img;
    window.orig = orig;

    $.ajax({
        url: 'filter-packs/'+pack+'/filter-pack.json',
        success: function(pack){
            $('.fx').append(
                $('<a> <img src="filter-packs/'+pack.filter_pack.slug+'/original-thumb@2x.png">Original </a>')
                .click(function(){
                    image.revert();
                })
            );
            $.each(pack.filter_pack.filters, function(i, filter){
                $('.fx').append(
                    $('<a> <img src="filter-packs/'+pack.filter_pack.slug+'/filters/'+filter.slug+'/thumb@2x.png">'+filter.name+' </a>')
                    .click(function(){
                        image.apply_filter({filter: filter.slug});
                    })
                );
            });
        }
    });
  });
  </script>

  <style>
  .main-image{
      width: 400px;
  }
  .fx a{
      text-align: center;
      font-family: 'Helvetica', Arial, sans-serif;
      color: black;
      display: inline-block;
  }
  .fx a img{
       display: block;
   }
  </style>


</head>
<body>
    <div class="image">
        <img class="main-image" src="image.jpg">
    </div>
    <div class="fx"></div>
    </body>
</html>

